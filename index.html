<!-- JQuery used, available at http://code.jquery.com/jquery-2.2.0.min.js -->
<html>
<head>
	<title>
		Tree probability calculator
	</title>
	<style>
		.draggable {background-color: red; width : 70px; height : 70px; position : absolute;
		margin-left: -35px; margin-top: -35px;-webkit-transform:  rotate(0.7rad);}
	</style>
	<script src="jquery-2.2.0.min.js"></script>
	<script src="line.js"></script>
	<script>/*
		$(function () {
			$(".draggable").on("mousedown", "", function (e){
				$(this).on("mousemove", function(e){
					this.style.top = e.pageY;
					this.style.left = e.pageX;
				}).on("mouseup", "", function(){
					$(this).unbind("mousemove");
				});
			});
		});
		*/
		function init(){
			// Body key handler
			$("body").keyup(function (event){
				console.log("Pressed "+event.keyCode);
			});
			// Prevent context menu
			$("body").contextmenu(function(){
				return false;
			});
			// Draggable
			$(".draggable").mousedown(function(){
				// Movement
				$(this).mousemove(function(event){
					this.style.top = event.pageY;
					this.style.left = event.pageX;
				});
				
				// Stop movement
				$(this).mouseup(function(){
					$(this).unbind("mousemove");
				});
				
				$(this).mouseleave(function(){
					$(this).unbind("mousemove");
				});
			});
			// Draw lines
			$("body").mousedown(function(event){
				if(event.which == 3){
					currentLine = createLine(event.pageX, event.pageY, 1, 0);
				}
			});
		};
		
		$("body").ready(init);
		
	</script>
</head>
<body>
	<div class="draggable"></div>
</body>
</html>